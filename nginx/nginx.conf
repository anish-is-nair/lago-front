server {
  listen 80;
  listen [::]:80;

  root /usr/share/nginx/html;
  index index.html;

  # ✅ Serve JS, CSS, images, fonts correctly
  location /assets/ {
    try_files $uri =404;
  }

  # ✅ Fallback to index.html for SPA routes
  location / {
    try_files $uri /index.html;
  }

  # ✅ Add security + caching headers
  add_header Cache-Control "public, max-age=31536000, immutable";
  add_header Content-Security-Policy "frame-ancestors *.force.com *.zive.app *.zive.dev *.localhost *.systeminit.com *.storecommander.com *.storecommander.eu *.dev.storecommander.eu *.ojin.ai *.ojin.foo *.web.app localhost;" always;
}